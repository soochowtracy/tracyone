<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Auto Layout&amp;Size Classes | TracyOne&#39;s Blog</title>
  <meta name="author" content="Tracy One">
  
  <meta name="description" content="IOS">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Auto Layout&amp;Size Classes"/>
  <meta property="og:site_name" content="TracyOne&#39;s Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">TracyOne&#39;s Blog</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">		
			<h1> Auto Layout&amp;Size Classes</h1>
		</div>		
	



<div class="row post">
	<!-- cols -->
	
	<div class="col-md-9">
	

			

	<!-- content -->
	<div class="mypage">		
	    <h3 id="简介">简介</h3>
<p>我感觉这是一个划时代的布局计数，真正的把机器语言转换成了符合人类的语言。在过去，我们布局都是去设定这个控件的起始坐标和宽高，这其实是很不友好的，比如说，你从来不会说我家的沙发是在客厅的（0，0）坐标开始，往东长3米，往南长2米，这种很奇怪的描述位置的话。更多的你会选择说，靠墙，1米宽，等这种很符合人类思考的话描述。</p>
<a id="more"></a>

<p>应该说Auto Layout其实已经解决了绝大数布局上的问题，不过呢，在某些方面，也有一定的局限性。比如说，在竖屏的时候你想要展示一个tableView，而在横屏时，由于屏幕变宽，想展示collectionView，那么Auto Layout是很难解决这个问题的。也因此，在这次IOS8中新加入了一个成员Size Classes。</p>
<p>SizeClass解决了那些差异化设计，并且很简单的能适配ipad，watch等，甚至一行代码都不需要写。不再根据设备屏幕的具体尺寸来进行区分，而是通过它们的感官表现，将其分为普通 (Regular) 和紧密 (Compact) 两个种类 (class)。开发者便可以无视具体的尺寸，而是对这这两类和它们的组合进行适配。</p>
<h3 id="Auto_Layout">Auto Layout</h3>
<h4 id="代码实现">代码实现</h4>
<pre><code>NSDictionary *viewsDictionary =
                NSDictionaryOfVariableBindings(self.button1, self.button2);
NSArray *constraints =
        [NSLayoutConstraint constraintsWithVisualForma<span class="variable">t:</span>@<span class="string">"[button1]-[button2]"</span>
                            option<span class="variable">s:0</span> metric<span class="variable">s:nil</span> <span class="keyword">view</span><span class="variable">s:viewsDictionary</span>];
</code></pre><p>再举几个可视化语法例子：</p>
<ul>
<li>[aButton(50)]-50-[bButton(50)]<br>a按钮宽50，b按钮宽50，间距50</li>
<li>[aButton(&gt;=50@1000)]<br>aButton宽度大于等于50，优先级为1000</li>
<li>V:[aButton][bButton(==aButton)]<br>竖直布局，a，b两个button等高</li>
<li>H:|-[aButton]<br>水平布局，aButton与左边距默认距离</li>
</ul>
<h4 id="一点点心得">一点点心得</h4>
<p>在考虑布局时，不应该再和以前一样先去考虑初始坐标，长宽等，其实UI设计描述的语句基本是正确的，比如，这两个Button等宽等等，这就是一种约束。</p>
<p>多个组件布局时可以考虑把几个零散的组件放到同一个view中，然后再用view和其他组件建立约束。</p>
<p>布局时先从一些比较固定的组件入手，从简单到复杂，在设计动画的时候不要忘了加 [view layoutIfNeeded]。</p>
<h4 id="流程">流程</h4>
<p>使用AutoLayout之后，把view显示到屏幕上面大体分成3步。</p>
<ul>
<li>Update constraints</li>
<li>Layout views</li>
<li>Display</li>
</ul>
<p>一般来说layoutSubviews负责布局，比如调整View之间的距离，大小，drawRect负责绘制，比如使用什么颜色。而AutoLayout则是在layout之前增加了一个设定约束的过程,也就是update constraints。</p>
<h3 id="总结">总结</h3>
<p>总的来说，iOS对UI这块的改动是跨时代性的，Autolayout的出现使得布局的复杂度减少到了View与View的关系上，再由根 View（也就是屏幕）指定frame，随后所有子View相对布局，把frame的概念归一化到根View的frame上；但有了Size Class后，根视图的frame概念也被移除了，这下整个app的UI和frame这个单词已然脱离关系，这也正是apple想要达到的目的。</p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
		
          <li class="prev disabled"><a><i class="fa fa-arrow-circle-o-left"></i>上一页</a></li>
        

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/2014/09/26/函数式编程/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">留言</h2>

  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</section>

	
	</div> <!-- col-md-9/col-md-12 -->
	
	
		<div class="col-md-3"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	10月 5 2014 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/IOS/">IOS<span>7</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/ios/">ios<span>7</span></a></li> <li><a href="/tags/auto-layout/">auto layout<span>1</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	

</div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2014 Tracy One
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<script type="text/javascript">
var disqus_shortname = 'tracyone';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
   </html>
